<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Android Video Playback made easy."><link href=https://eneim.github.io/kohii/INTRO/ rel=canonical><meta name=author content="2019 Nam Nguyen, nam@ene.im"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.5.0"><title>INTRO - Kohii</title><link rel=stylesheet href=../assets/stylesheets/application.1b62728e.css><link rel=stylesheet href=../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content><script src=../assets/javascripts/modernizr.268332fc.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../assets/fonts/material-icons.css><link rel=stylesheet href=../css/main.css></head> <body dir=ltr data-md-color-primary=black data-md-color-accent=black> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#tl-dr tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://eneim.github.io/kohii title=Kohii class="md-header-nav__button md-logo"> <img src=../art/ic_launcher-web.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Kohii </span> <span class=md-header-nav__topic> INTRO </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/eneim/kohii/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Kohii </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://eneim.github.io/kohii title=Kohii class="md-nav__button md-logo"> <img src=../art/ic_launcher-web.png width=48 height=48> </a> Kohii </label> <div class=md-nav__source> <a href=https://github.com/eneim/kohii/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> Kohii </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> API </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> API </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/kohii-core/ title=kohii-core class=md-nav__link> kohii-core </a> </li> <li class=md-nav__item> <a href=../api/kohii-exoplayer/ title=kohii-exoplayer class=md-nav__link> kohii-exoplayer </a> </li> <li class=md-nav__item> <a href=../api/kohii-androidx/ title=kohii-androidx class=md-nav__link> kohii-androidx </a> </li> <li class=md-nav__item> <a href=../api/kohii-ads/ title=kohii-ads class=md-nav__link> kohii-ads </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#tl-dr class=md-nav__link> TL, DR </a> </li> <li class=md-nav__item> <a href=#what class=md-nav__link> What? </a> </li> <li class=md-nav__item> <a href=#the-idea-of-playback-continuity class=md-nav__link> The idea of Playback Continuity </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> Features </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#0-rich-feature-demo-application class=md-nav__link> 0. Rich feature demo application </a> </li> <li class=md-nav__item> <a href=#1-onefew-line-setup-full-auto class=md-nav__link> 1. ~~One~~Few-line setup, full auto </a> </li> <li class=md-nav__item> <a href=#2-reusing-playerview-instance-with-the-same-amount-of-code class=md-nav__link> 2. Reusing PlayerView instance, with the same amount of code </a> </li> <li class=md-nav__item> <a href=#3-manual-control class=md-nav__link> 3. Manual control </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/eneim/kohii/edit/master/docs/INTRO.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1>INTRO</h1> <h2 id=tl-dr>TL, DR<a class=headerlink href=#tl-dr title="Permanent link">&para;</a></h2> <p><strong>Kohii</strong> is a library that:</p> <ul> <li>Is built for Android, supports Android 4.4 (SDK 19) and up.</li> <li>Provides easy to use Video playback functionality, including automatic playback, playback continuity across config change, lifecycle change and more.</li> <li>By default, support ExoPlayer and any ViewGroup as the <em>host</em> for videos, including: RecyclerView, NestedScrollView, ViewPager, ViewPager2, general ViewGroup, etc</li> </ul> <p>Kohii provides following features by default:</p> <ul> <li>[x] Full automatic playback control using ExoPlayer as playback framework.</li> <li>[x] Semi manual playback control using ExoPlayer as playback framework. User can play/pause specific player on demand, Kohii will smartly pause the Video if it is not visible anymore, and restore the previous state later if needed.</li> <li>[x] Full manual playback control using ExoPlayer as playback framework. User can play/pause specific player on demand, Kohii does not touch anything, but take care of cleaning resource if needed (eg: release Player instances after user closes the Application).</li> <li>[x] Preserving <em>playback continuity</em> across configuration changes, lifecycle changes (eg: from Activity to Activity) using ExoPlayer as playback framework. This means: rotating the device, switching to multi-windows mode or openning full-screen player doesn't trigger pausing/resuming the playback. While the visual part will be rerendered (due to View recreation), the audio part is kept smoothly, provide continouous playback experience.</li> <li>[x] Reusing PlayerView instances for many players. Thinking that playing thousands of videos in sequence just using <strong><em>one PlayerView instance</em></strong>.</li> <li>[x] Scoped volume configuration. This means: you can set volume value of one Video, and apply the same for others, depending on the scope you want. The scope can be just that Video, or all Videos <em>in the same RecyclerView/ScrollView</em>, or all Videos <em>in the same Activity</em>.</li> <li>[x] Rich features demo app: demo and guidelines for creating various UX/UI patterns, from simple to complicated, including Picture-In-Picture playback or Scroll-To-Mini-Player UX just like YouTube app.</li> </ul> <p>For advance developers</p> <ul> <li><strong>Kohii</strong> API is highly abstracted. You can easily extend it to support non-ExoPlayer API, or more complicated playback API. There is demo on how to use <a href=https://github.com/PierfrancescoSoffritti/android-youtube-player>this YouTube player library</a> in Kohii.</li> </ul> <h2 id=what>What?<a class=headerlink href=#what title="Permanent link">&para;</a></h2> <p>Lately, I'm spending a lot of time on my latest library: <a href=https://github.com/eneim/kohii>Kohii</a>. In this post, I would like to expose more about it.</p> <p>Kohii is a library that:</p> <ul> <li>Is built for Android whose version is 4.4 (SDK 19) and up.</li> <li>Is built on top of ExoPlayer, support RecyclerView, NestedScrollView, ViewPager etc out of the box.</li> <li>Provides easy to use Video playback functionalities, including automatic playback, playback continuity across config change, lifecycle change and more.</li> </ul> <p>Many libraries addresses the same problem, including my other library <a href=https://github.com/eneim/toro>toro</a>, but none of them suffices my requirement.</p> <p>In older posts: <a href=/2019/02/10/droidkaigi-2019-part-1/ >this one</a>, <a href=/2019/02/10/droidkaigi-2019-part-2/ >this one</a> and <a href=/2019/02/10/droidkaigi-2019-part-3/ >this one</a>, I have discussed about the need for something that combines <em>ExoPlayer</em> and <em>RecyclerView</em>, the challenge to keep the <strong>playback continuity</strong> and propose a design that could do the job.</p> <p><strong>Kohii</strong> is my implementation of that design. In the remaining of this series, I will cover the idea behind <strong>Kohii</strong>, its main features and how to extend it.</p> <h2 id=the-idea-of-playback-continuity>The idea of Playback Continuity<a class=headerlink href=#the-idea-of-playback-continuity title="Permanent link">&para;</a></h2> <p>The concept <em>Playback Continuity</em> comes when I prepared for <a href=https://droidkaigi.jp/2019/ >the Tokyo DroidKaigi 2019</a> where I will also talk about the same topic. Its idea was in my mind for a long time ago.</p> <p>Thinking about a Video playback, what are the common scenarios:</p> <ul> <li>Single, individual playback, like watching a movie on Netflix or YouTube.</li> <li>Multiple playback, like viewing many videos on a timeline like Facebook, and watch them one by one while scrolling through the list.</li> </ul> <p>All of these scenarios must share some common behaviors:</p> <h2 id=features>Features<a class=headerlink href=#features title="Permanent link">&para;</a></h2> <h4 id=0-rich-feature-demo-application>0. Rich feature demo application<a class=headerlink href=#0-rich-feature-demo-application title="Permanent link">&para;</a></h4> <p>As always, I try to cover as much of the cappabilities of the library as possible in the demo app. By that, you can have the recommended ways to implement many patterns using <strong>Kohii</strong>, including:</p> <ul> <li>Using Kohii in RecyclerView only (the simplest pattern).</li> <li>Using Kohii in <em>NestedScrollView</em> only (yes, <strong>Kohii</strong> does not just support RecyclerView, it works with any <em>ViewGroup</em> you can imagine of, or, most of them).</li> <li>Using Kohii in <em>ViewPager</em> only, where each page is a <em>Fragment</em> (this is one of the thing that <strong>toro</strong> could not support well, so Kohii is here for the rescue).</li> <li>Using Kohii in Master/Detail UI composition (this is a new pattern I'm experimenting with, and it needs time to be battle proof, and it needs your feedbacks to be mature &lt;3).</li> <li>Using Kohii in RecyclerView, with 'click-to-fullscreen' feature like YouTube UI. This is the game changer, my <strong>selling point for Kohii</strong> &lt;3. Implementation of it is also discussed in <a href=/2019/02/10/droidkaigi-2019-part-4/ >this post</a>.</li> <li>Using Kohii in RecyclerView, with 'click-to-fullscreen' feature that open the fullscreen playback in new <strong>Activity</strong>, <em>without pausing/resuming the playback</em>. So starting new Activity for fullscreen player will not interupt your playback UX, sounds good huh?</li> <li>Using Kohii in RecyclerView, with 'click-to-fullscreen' feature that open the fullscreen playback in new <strong>Fragment</strong>, because <em>single Activity</em> is the new trend. To make it more fun, I also add the <em>fragment transition learnt from <a href=https://github.com/google/android-transition-examples/tree/master/GridToPager>here</a></em>.</li> <li>And more to come, depending on the feedback I got, request I receive and time I have to spend.</li> </ul> <h4 id=1-onefew-line-setup-full-auto>1. ~~One~~Few-line setup, full auto<a class=headerlink href=#1-onefew-line-setup-full-auto title="Permanent link">&para;</a></h4> <p>Thinking that you just need the following lines to integrate fully automatic Video playback in to your App:</p> <div class=codehilite><pre><span></span><span class=c1>// Init Kohii for Fragment or Activity</span>
<span class=k>val</span> <span class=py>kohii</span> <span class=p>=</span> <span class=n>Kohii</span><span class=p>[</span><span class=k>this</span> <span class=cm>/* fragment or activity instance */</span><span class=p>]</span>
<span class=n>kohii</span><span class=p>.</span><span class=n>register</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=n>arrayOf</span><span class=p>(</span><span class=n>recyclerView</span><span class=p>))</span> <span class=c1>// register the RecyclerView to be a &#39;host&#39; of our Videos.</span>

<span class=c1>// In ViewHolder or Adapter&#39;s onBindViewHolder, where kohii instance is passed from above</span>
<span class=n>kohii</span><span class=p>.</span><span class=n>setUp</span><span class=p>(</span><span class=n>videoUrl</span><span class=p>).</span><span class=n>bind</span><span class=p>(</span><span class=n>playerView</span><span class=p>)</span> <span class=c1>// playerView is instance of ExoPlayer&#39;s PlayerView.</span>
</pre></div> <p>This is the fastest way to use <strong>Kohii</strong>. With this setup, you got:</p> <ul> <li>Videos will be played/paused automatically on user's scroll.</li> <li>The top-most PlayerView whose visible area is equal to, or more than <strong>65%</strong> of its area will be the one to play, all other PlayerView instances will be paused.</li> <li>Configuration changes like multi-windows mode, orientation change etc will not interupt the playback. (As the matter of fact, SurfaceView or TextureView used in PlayerView will be recreated, so you will see the <em>glitch</em> of the Video image frame, but the Audio will keep playing during the configuration change).</li> </ul> <p>Under the hood:</p> <ul> <li>Resource for Video playback is initialized as late as possible, so there is little to no impact to app's UX.</li> <li>Resource for Video playback is cached for reusability, so playback switching will be as fast as possible.</li> <li>Cached resource will be released as soon as possible, so there is no concern about memory leak.</li> <li>All playback logic, ExoPlayer implementation are provided by Kohii. You don't need to worry about anything.</li> </ul> <p>Digging in the API, you will have more control over the playback behavior, including:</p> <ul> <li>Repeat mode, which is the same with that of ExoPlayer.</li> <li>Delay, which help you to start the Playback with an amount of delay.</li> <li>Visible area of the PlayerView that trigger the playback. It is 65% by default, but you are free to change it.</li> <li>Initial playback info, so you can control the starting position, volume of a playback.</li> <li>And more.</li> </ul> <h4 id=2-reusing-playerview-instance-with-the-same-amount-of-code>2. Reusing PlayerView instance, with the same amount of code<a class=headerlink href=#2-reusing-playerview-instance-with-the-same-amount-of-code title="Permanent link">&para;</a></h4> <p>Yes, you read it correctly. Now you can reuse PlayerView instance across many Video playback. This is something <strong>toro</strong> could not archive, due to the limitation of its design. And as it is <a href=https://github.com/google/ExoPlayer/issues/867>highly requested</a>, <strong>Kohii</strong> is my answer to the problem.</p> <p>Changing the setup before to this</p> <div class=codehilite><pre><span></span><span class=c1>// Init Kohii for Fragment or Activity</span>
<span class=k>val</span> <span class=py>kohii</span> <span class=p>=</span> <span class=n>Kohii</span><span class=p>[</span><span class=k>this</span> <span class=cm>/* fragment or activity instance */</span><span class=p>]</span>
<span class=n>kohii</span><span class=p>.</span><span class=n>register</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=n>arrayOf</span><span class=p>(</span><span class=n>recyclerView</span><span class=p>))</span> <span class=c1>// register the RecyclerView to be a &#39;host&#39; of our Videos.</span>

<span class=c1>// In ViewHolder or Adapter&#39;s onBindViewHolder, where kohii instance is passed from above</span>
<span class=n>kohii</span><span class=p>.</span><span class=n>setUp</span><span class=p>(</span><span class=n>videoUrl</span><span class=p>).</span><span class=n>bind</span><span class=p>(</span><span class=n>playerViewContainer</span><span class=p>)</span> <span class=c1>// playerViewContainer is a ViewGroup to put PlayerView instance on demand.</span>
</pre></div> <p>Just changing from using a <strong>PlayerView</strong> instance directly to using a <em>container</em>, you are done. To help you understand this feature, let's talk about the <em>why</em> real quick: <em>why reusing PlayerView instance is that cool?</em>.</p> <p>If you take a look on <a href=(https://github.com/google/ExoPlayer/issues/867)>the issue I mention above</a>, go from bottom-up because it is a long issue to read through, you can see the discussion about reusing stuff in the <em>ExoPlayer &amp; RecyclerView combination</em>. Yes, it is important to reuse as much as possible, to keep a smooth user experience, as well as to save memory.</p> <p>Assuming that you use PlayerView in your ViewHolder to play the video. If your viewport has 3 ~ 4 ViewHolders that contains Video, there will be at most one PlayerView that is playing at a time, and at least 2 ~ 3 PlayerView instances doing nothing, but still keeping an expensive <em>Surface object</em> alive. We know that creating and keeping Surface are expensive operations, so reusing the Surface is a reasonable requirement.</p> <p>How <strong>Kohii</strong> supports this: </p> <ul> <li>The required step is client provides the <em>container</em> to Kohii using the code above. The <em>container</em> can be just a FrameLayout.</li> <li>Kohii keeps a pool of <strong>PlayerView</strong> that will create the PlayerView instance on demand, and keep the cache of up to 2 instances of it, in the Activity's <em>lifecycle</em> scope. So once the Activity is destroyed, the pool is automatically cleared, again, no fear of memory leak.</li> <li>Kohii knows <em>when the PlayerView should appear, and when it should not</em>. When the PlayerView is demanded, Kohii acquires one instance from the pool. If there is no cached instance, a new instance will be created. On one hand, this instance will be passed to the playback engine, and on the other hand, it will be added to the <em>container</em> by internal mechanism. When the PlayerView should disappear, Kohii will remove it from the <em>container</em>, and release it back to the pool for reuse.</li> <li>Because there will be at most one PlayerView to play at a time, and Kohii's pool keeps up to 2 instances at a time, there will be at most 2 PlayerView instances living at a moment. (In practice, depends on how complicated your video content is, there will be more. For example you have both DRM content and non-DRM content, and you want to use TextureView for non-DRM ones, then Kohii keeps 2 pools for 2 types of playback).</li> </ul> <p>The caveat of this mechanism is that <em>by default</em> you do not control the way a PlayerView is created (spoiler: with more lines of code, you can).</p> <p>With more advance setup, you have the following control:</p> <ul> <li>How to add and remove PlayerView instance to/from the <em>container</em>. Because your container may contains other Views, Kohii allows you to provide your way to handle this operation.</li> <li>How to create PlayerView instance, because you may have your custom PlayerView implementation.</li> </ul> <h4 id=3-manual-control>3. Manual control<a class=headerlink href=#3-manual-control title="Permanent link">&para;</a></h4> <p>Some of the requirement I got from <strong>toro</strong> are the abilities to:</p> <ul> <li>Manually control the playback using UI/buttons</li> <li>Mute/Un-mute one playback and apply that to all</li> </ul> <p>Those 2 control can be gathered in one group: manual playback control, with scope.</p> <p><strong>Kohii</strong> provides the following behaviors to make it possible:</p> <ul> <li> <p>Allow client to configure so that, user can fully control the video playback, without any help by Kohii. For instance: when your RecyclerView is shown, and the first ViewHolder is a Video and it is fully visible. This behavior will not start the playback automatically, user can start/pause/do anything with the playback using client-provide UI controller. Once user scrolls the Video so that it is no longer visible on screen, Kohii will not do anything to pause or release the playback. If it was playing before, it keeps playing. If it was paused before, it keeps being paused. But once the Activity that contains this playback is destroyed, Kohii will correctly clear any resource in use. And even better, the manual playback is retained across configuration change, without any interuption.</p> </li> <li> <p>Allow client to configure so that, user can control the playback on the fly. This means that: Kohii will still start the playback automatically, but once user click to some buttons to pause it, Kohii will not change that state. So a video paused by user, even if it is fully visible, will not be played automatically (in full-auto config, Kohii will start this playback). When user scrolls the Video so that it is no longer visible enough, Kohii will do its jobs to pause and release resource if needed. And when user scrolls the Video back to visible enough, Kohii will put the playback to its previous state: if it was playing before being scrolled off-screen, it will be resumed; if it was paused before being scrolled off-screen, it keeps being paused.</p> </li> <li> <p>About the volume control, it works in a bit different way: Kohii allows client to apply a volume value by <em>scope</em>. There are 4 scopes in Kohii, but to not go too deep, I will just talk about 2: playback scope, and global scope. If client applies a volume value to <em>playback scope</em>, then only the receiver playback object will have this new volume value. But if client applies a volume value to <em>global scope</em>, then all currently playing playbacks, and any playback that <em>will be created next</em> will have the new volume value. The control flow is easy to imagine, but not easy to implementation. What I did for Kohii is one of my best thing I have ever done. And I hope it helps you to solve your problems.</p> </li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Nam Nguyen, nam@ene.im </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../assets/fonts/font-awesome.css> <a href=https://github.com/eneim/kohii class="md-footer-social__link fa fa-github"></a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/application.a8b5e56f.js></script> <script>app.initialize({version:"1.0.4",url:{base:".."}})</script> </body> </html>